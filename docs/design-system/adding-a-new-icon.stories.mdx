import { Meta } from '@storybook/blocks';
import createBranchImage from '../images/create-branch-in-vscode.png';
import iconsFolderImage from '../images/icons-folder.png';
import stageFilesImage from '../images/stage-files.png';
import filesStagedImage from '../images/files-staged.png';
import commitPushImage from '../images/commit-and-push.png';
import openPrImage from '../images/open-pr.png';
import prFormImage from '../images/pr-form.png';

<Meta title="Design System/Icons/Adding New Icons" />

# Adding New Icons to Baklava (For Designers)

## Prerequisities

* You need to have a [GitHub account](https://github.com/signup).
* You need to be a contributer in our project. (Otherwise you call follow steps below by first forking project)

## Steps

1. Go to https://github.dev/Trendyol/baklava/tree/next In your browser you'll see Visual Studio Code in your browser with `next` branch (our default branch) of Baklava.
1. Use three dot menu and `Branch` -> `Create Branch  in Source Control tab

<img src={createBranchImage} />

3. It will ask your source branch. Pick `next`. Then press `Enter`.
1. It will ask the name of your new branch. Use `kebab-case` and give a name about what you'll add here. Example: `adding-marketing-icons` Press `Enter`
1. It will ask for a confirmation. Press `Switch to Branch`. Page will be refreshed and you'll be switched to your new branch.
1. On the Files tab, go to `src/components/icon/icons` folder. This folder is the place that we store our icon SVG files.

<img src={iconsFolderImage} />

7. Right-click to icons folder and pick `Upload...` then pick SVG files that you exported from Figma for new icon(s).
1. New files will be visible in green. You may need to rename the file. Icon SVG files should be in `snake_case`. All lowercase and underscore for word seperators. You can right-click to file and pick `Rename` for renaming them.
1. Open the new SVG file by clicking its name and replace `fill="#{someColorCode}"` with `fill="currentColor"`. This makes icon colors customizable in web pages. **Don't change `fill="none"`. It makes that layer or background transparent.
1. Open `src/components/icon/icon-list.ts` files by clicking its name. This file stores the list of icons to make them visible in our Storybook. Simply add the icons that you added to the alphabetically correct place.
1. Once you are done with editing SVG files and `icon-list.ts` file, go to Source Control tab. Use `+` icon on tab to add the files you changed for committing.

<img src={stageFilesImage} />

<img src={filesStagedImage} />

12. Write your commit message in the Message input. We are using some [commit rules](/docs/documentation-contributing-baklava-commit-rules--documentation) so you need to follow same rules. Most of the cases for adding new icon you'll use `feat(icon): name icon added` format. Write your message and click tick button above (or Ctrl + Enter) for sending your changes to GitHub.

<img src={commitPushImage} />

13. Then go to https://github.com/Trendyol/baklava in a new tab. You'll see a notification with your new branch name like below:

<img src={openPrImage} />

14. Click `Compare & pull request`.
1. Be sure `next` branch is selected in `target` dropdown above the PR creation form. PR title will automatically filled from your last commit message. Edit it if you need. Add extra information to the description if you have any more remarks. Then press `Create pull request`.

<img src={prFormImage} />

16. Now you are basically done! Some automated tests will be done. Since you added a new icon, visual regression tests will fail and asks for a design review. You can do your review in Chromatic once tests are done (usually in a few minutes) and approve them if icon looks good in test screenshots. Then you'll wait for another review from repository maintainers to be able to merge PR to `next` branch. Once PR merged to `next` branch an automatic beta release will be done. Then once `next` branch merged to `main` branch, a stable release will be done and your new icon will be available all of the library users.
