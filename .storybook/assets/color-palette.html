<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./dist/themes/default.css" />
    <script type="module" src="./dist/baklava.js"></script>
    <style>
      body {
        padding: 20px;
        font-family: var(--bl-font-family);
      }

      hr {
        background-color: rgba(0, 0, 0, 0.5);
        height: 2px;
        border: none;
        margin-block: 20px;
      }

      .deneme {
        color: var(--bl-color-neutral-darker);
        font-size: 46px;
        font-weight: bold;
      }

      .deneme2 {
        color: var(--bl-color-neutral-dark);
      }

      .deneme3 {
        color: var(--bl-color-neutral);
      }

      td {
        text-align: center;
        background-color: var(--background-color);
      }

      :where(th, td) span {
        padding: 12px;
        /*text-shadow: 1px 1px gray;*/
        font-size: 12px;
      }

      .code {
        --switch: calc((var(var(--background-color))))
      }

      .contrast-white {
        color: var(--bl-color-neutral-lightest);
      }

      .contrast-black {
        color: var(--bl-color-neutral-darker);
      }

      /* fixes */
      /* bl-tab-group {
        --bl-color-primary-contrast: var(--bl-color-content-primary-contrast);
      }

      bl-tab {
        --bl-color-secondary: var(--bl-color-content-secondary);
      }

      bl-button[variant='tertiary'] {
        --bl-color-secondary: var(--bl-color-content-secondary);
      }

      bl-select {
        --bl-color-secondary: var(--bl-color-content-secondary);
      } */
    </style>
  </head>
  <body>

    <bl-button id="configToogle" icon="arrow_left"></bl-button>
    <bl-drawer id="config" caption="Change Theme">
      <bl-input type="number" label="Primary Hue"></bl-input>
    </bl-drawer>

    <table>
      <thead>
        <th></th>
        <th>Primary</th>
        <th>Success</th>
        <th>Danger</th>
        <th>Warning</th>
      </thead>
      <tbody>
        <tr>
          <th>Key</th>
          <td id="bl-color-primary" style="--background-color: var(--bl-color-primary)">
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
          <td id="bl-color-success" style="--background-color: var(--bl-color-success)">
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
          <td id="bl-color-danger" style="--background-color: var(--bl-color-danger)">
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
          <td id="bl-color-warning" style="--background-color: var(--bl-color-warning)">
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
        </tr>
        <tr>
          <th>Highlight</th>
          <td id="bl-color-primary-highlight" style="--background-color: var(--bl-color-primary-highlight)">
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
          <td id="bl-color-success-highlight" style="--background-color: var(--bl-color-success-highlight)">
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
          <td id="bl-color-danger-highlight" style="--background-color: var(--bl-color-danger-highlight)">
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
          <td id="bl-color-warning-highlight" style="--background-color: var(--bl-color-warning-highlight)">
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
        </tr>
        <tr>
          <th>Contrast</th>
          <td
            id="bl-color-primary-contrast"
            style="--background-color: var(--bl-color-primary-contrast)"
          >
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
          <td
            id="bl-color-success-contrast"
            style="--background-color: var(--bl-color-success-contrast)"
          >
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
          <td
            id="bl-color-danger-contrast"
            style="--background-color: var(--bl-color-danger-contrast)"
          >
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
          <td
            id="bl-color-warning-contrast"
            style="--background-color: var(--bl-color-warning-contrast)"
          >
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
        </tr>
      </tbody>
    </table>

    <table>
      <thead>
        <th></th>
        <th>Neutrals</th>
      </thead>
      <tbody>
        <tr>
          <th>Darkest</th>
          <td
            id="bl-color-neutral-darkest"
            style="--background-color: var(--bl-color-neutral-darkest)"
          >
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
        </tr>
        <tr>
          <th>Darker (content-primary)</th>
          <td
            id="bl-color-neutral-darker"
            style="--background-color: var(--bl-color-neutral-darker)"
          >
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
        </tr>
        <tr>
          <th>Dark (content-secondary)</th>
          <td
            id="bl-color-neutral-dark"
            style="--background-color: var(--bl-color-neutral-dark)"
          >
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
        </tr>
        <tr>
          <th>Key (content-tertiary, passive-key)</th>
          <td
            id="bl-color-neutral-key"
            style="--background-color: var(--bl-color-neutral)"
          >
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
        </tr>
        <tr>
          <th>Light (passive-highlight)</th>
          <td
            id="bl-color-neutral-light"
            style="--background-color: var(--bl-color-neutral-light)"
          >
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
        </tr>
        <tr>
          <th>Lighter (passive-contrast)</th>
          <td
            id="bl-color-neutral-lighter"
            style="--background-color: var(--bl-color-neutral-lighter)"
          >
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
        </tr>
        <tr>
          <th>Lightest (primary-contrast)</th>
          <td
            id="bl-color-neutral-lightest"
            style="--background-color: var(--bl-color-neutral-lightest)"
          >
            <span class="contrast-white"></span><span class="contrast-black"></span
            ><span class="code"></span>
          </td>
        </tr>
      </tbody>
    </table>

    <bl-button id="update">Update</bl-button>

    <div class="deneme">Lorem ipsum dolor sit amet</div>
    <div class="deneme deneme2">Lorem ipsum dolor sit amet</div>
    <div class="deneme deneme3">Lorem ipsum dolor sit amet</div>
    <div class="deneme deneme4">Lorem ipsum dolor sit amet</div>
    <bl-tab-group>
      <bl-tab slot="tabs" name="overview" icon="book">Overview</bl-tab>
      <bl-tab slot="tabs" badge="new" name="profile" notify>Profile</bl-tab>
      <bl-tab slot="tabs" icon="settings" help-text="Settings are not available temporary" disabled
        >Settings</bl-tab
      >

      <bl-tab-panel tab="overview">
        <bl-button>Primary Button</bl-button>
        <bl-button kind="neutral">Primary Button</bl-button>
        <bl-button kind="success">Primary Button</bl-button>
        <bl-button kind="danger">Primary Button</bl-button>
        <bl-button kind="danger" disabled>Primary Button</bl-button>
        <hr />
        <bl-button variant="secondary">Secondary button</bl-button>
        <bl-button variant="secondary" kind="neutral">Secondary button</bl-button>
        <bl-button variant="secondary" kind="success">Secondary button</bl-button>
        <bl-button variant="secondary" kind="danger">Secondary button</bl-button>
        <hr />
        <bl-input label="Your Name"></bl-input>
        <bl-input label="Your Name" value="Test" disabled icon="profile"></bl-input>
        <hr>

        <bl-alert icon>Informational Text</bl-alert>
        <hr />
        <bl-alert variant="warning">Warning Text</bl-alert>
        <hr />
        <bl-alert variant="success" icon closable>Success Text</bl-alert>
        <hr />
        <bl-alert variant="danger"
          >Danger Text
          <bl-button slot="action">Action Link</bl-button>
        </bl-alert>
        <hr />
        <bl-pagination
          current-page="1"
          total-items="1500"
          items-per-page="100"
          has-jumper="true"
          jumper-label="Sayfaya Git"
          has-select="true"
          select-label="Sayfa Başına"
        >
        </bl-pagination>
      </bl-tab-panel>
    </bl-tab-group>

    <script type="module">
      import Color from 'https://cdn.jsdelivr.net/npm/colorjs.io@0.4.2/dist/color.js';
      import $ from 'https://cdn.skypack.dev/jquery@3.6.2';

      function showContrast(colorName) {
        const colorCode = $(`#bl-color-${colorName}`).css(`background-color`);
        if (!colorCode) {
          return;
        }
        const blackCode = $('#bl-color-neutral-darker').css('background-color');
        const white = new Color('white');
        const black = new Color(blackCode);
        const pColor = new Color(colorCode);

        const whiteContrastAPCA = pColor.contrast(white, 'APCA').toFixed(1);
        const blackContrastAPCA = pColor.contrast(black, 'APCA').toFixed(1);

        const whiteContrastWCAG = pColor.contrast(white, 'WCAG21').toFixed(1);
        const blackContrastWCAG = pColor.contrast(black, 'WCAG21').toFixed(1);

        $(`#bl-color-${colorName} .contrast-white`).text(`${whiteContrastAPCA}, ${whiteContrastWCAG}`);
        $(`#bl-color-${colorName} .contrast-black`).text(`${blackContrastAPCA}, ${blackContrastWCAG}`);
        $(`#bl-color-${colorName} .code`).text(pColor.to('srgb').toString({ format: 'hex' }));
      }

      function showContrastVariants(colorName) {
        ['', '-highlight', '-contrast'].forEach(variant => {
          showContrast(`${colorName}${variant}`);
        });
      }

      function showAllContrasts() {
        ['primary', 'success', 'danger', 'warning'].forEach(color => {
          showContrastVariants(color);
        });

        ['darkest', 'darker', 'dark', 'key', 'light', 'lighter', 'lightest'].forEach(
          color => {
            showContrast(`neutral-${color}`);
          }
        );
      }

      showAllContrasts();

      $('#update').on('bl-click', () => {
        showAllContrasts();
      });

      $('#configToogle').on('bl-click', () => {
        $('#config').open = true;
      })
    </script>
  </body>
</html>
